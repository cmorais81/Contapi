# COBOL AI Engine v2.3.0 - Configuração de Prompts Genérica
# Arquivo de configuração de prompts customizáveis para qualquer tipo de programa COBOL

prompts:
  # Configurações gerais
  include_in_documentation: true
  save_prompt_history: true
  max_prompt_length: 8000
  
  # Perguntas de análise principais (aplicáveis a qualquer programa COBOL)
  analysis_questions:
    functional:
      question: "O que este programa faz funcionalmente?"
      priority: 1
      required: true
      description: "Pergunta principal sobre a funcionalidade do programa"
      
    technical:
      question: "Qual é a estrutura técnica e componentes principais?"
      priority: 2
      required: true
      description: "Análise da arquitetura e estrutura do código"
      
    business_rules:
      question: "Quais regras de negócio estão implementadas?"
      priority: 3
      required: true
      description: "Identificação das regras de negócio no código"
      
    code_analysis:
      question: "Quais são os trechos de código mais relevantes?"
      priority: 4
      required: false
      description: "Análise dos principais blocos de código"
      
    relationships:
      question: "Como este programa se relaciona com outros sistemas?"
      priority: 5
      required: false
      description: "Mapeamento de dependências e integrações"
      
    performance:
      question: "Quais são as considerações de performance e otimização?"
      priority: 6
      required: false
      description: "Análise de performance e possíveis melhorias"
      
    maintenance:
      question: "Quais aspectos são importantes para manutenção?"
      priority: 7
      required: false
      description: "Pontos críticos para manutenção futura"

  # Perguntas customizáveis pelo usuário
  user_questions:
    compliance:
      question: "Este programa atende aos requisitos de compliance?"
      priority: 8
      required: false
      description: "Verificação de conformidade regulatória"
      
    security:
      question: "Quais aspectos de segurança são implementados?"
      priority: 9
      required: false
      description: "Análise de segurança e controles"
      
    data_flow:
      question: "Como é o fluxo de dados neste programa?"
      priority: 10
      required: false
      description: "Mapeamento do fluxo de informações"

  # Templates de prompt base (genéricos)
  base_prompt: |
    Analise o seguinte programa COBOL:
    
    {cobol_code}
    
    Por favor, forneça uma análise completa incluindo:
    {analysis_questions}
    
    Informações do programa:
    - Nome: {program_name}
    - Tamanho: {code_size} caracteres
    - Linhas: {line_count}
    
  # Contextos específicos por tipo de programa (genéricos por padrão)
  contextual_prompts:
    # Programas de processamento de dados
    data_processing:
      pattern: "^[A-Z]{2,4}[0-9]{4}$"
      context: "programa de processamento de dados corporativo"
      additional_questions:
        - "Que tipos de dados são processados?"
        - "Qual é o volume de processamento esperado?"
        - "Quais validações são aplicadas aos dados?"
        
    # Programas de relatórios
    report_programs:
      pattern: ".*REL.*|.*RPT.*|.*REP.*"
      context: "programa gerador de relatórios"
      additional_questions:
        - "Que informações são apresentadas no relatório?"
        - "Qual é a periodicidade de execução?"
        - "Quem são os usuários finais do relatório?"
        
    # Programas batch
    batch_programs:
      pattern: ".*BATCH.*|.*BTH.*|.*JOB.*"
      context: "programa de processamento batch"
      additional_questions:
        - "Qual é a frequência de execução?"
        - "Quais são os critérios de sucesso/falha?"
        - "Como é feito o controle de execução?"
        
    # Programas online/transacionais
    online_programs:
      pattern: ".*ONL.*|.*TXN.*|.*SCR.*"
      context: "programa transacional online"
      additional_questions:
        - "Quais transações são suportadas?"
        - "Como é feito o controle de sessão?"
        - "Quais validações são feitas em tempo real?"
        
    # Programas de interface
    interface_programs:
      pattern: ".*INT.*|.*IFC.*|.*API.*"
      context: "programa de interface entre sistemas"
      additional_questions:
        - "Quais sistemas são integrados?"
        - "Qual é o formato dos dados trocados?"
        - "Como é feito o tratamento de erros de comunicação?"
        
    # Programas utilitários
    utility_programs:
      pattern: ".*UTL.*|.*UTIL.*|.*TOOL.*"
      context: "programa utilitário de apoio"
      additional_questions:
        - "Qual é a função específica desta utilidade?"
        - "Em que contexto é utilizada?"
        - "Quais são os parâmetros de entrada?"
        
    # Padrão genérico para qualquer programa
    default:
      context: "programa COBOL corporativo"
      additional_questions:
        - "Qual é o propósito principal?"
        - "Como se integra ao sistema?"
        - "Que dados processa?"

  # Configurações de faseamento
  phase_prompts:
    basic_info:
      focus: "informações básicas e estrutura geral"
      additional_context: |
        Concentre-se em:
        - Identificação do programa
        - Divisões COBOL presentes
        - Arquivos utilizados
        - Copybooks incluídos
        - Características gerais
        
    functional_analysis:
      focus: "{functional_question}"
      additional_context: |
        Concentre-se especificamente em:
        - Objetivo principal do programa
        - Processo de negócio implementado
        - Fluxo de dados
        - Impacto no sistema corporativo
        - Valor para o negócio
        
    technical_analysis:
      focus: "análise técnica detalhada com trechos de código"
      additional_context: |
        Concentre-se em:
        - Estruturas de dados principais
        - Algoritmos implementados
        - Padrões de design utilizados
        - Trechos de código relevantes
        - Considerações de performance
        
    business_rules:
      focus: "regras de negócio e validações"
      additional_context: |
        Concentre-se em:
        - Validações de entrada
        - Regras de processamento
        - Controles de qualidade
        - Conformidade regulatória
        - Cálculos e transformações

  # Substituições de texto para personalização
  customization:
    text_replacements:
      "programa COBOL": "sistema COBOL"
      "análise completa": "análise detalhada"
      
    environment_specific:
      production:
        focus_on_business_value: true
        include_debug_info: false
        show_internal_details: false
      development:
        include_debug_info: true
        show_internal_details: true
        
    allow_additional_questions: true

  # Configurações de exibição
  show_original_prompt: true
  show_phase_prompts: true
  show_prompt_tokens: true

# Configurações de documentação
documentation:
  sections:
    original_prompt: true
    phase_prompts: true
    questions_asked: true
    prompt_statistics: true
    customizations_applied: true
    
  format:
    show_metadata: true
    show_timestamps: true
    show_token_usage: true
    show_code_blocks: true
    
  placement:
    position: "end"
    section_title: "Transparência da Análise"
    subsection_title: "Prompts Utilizados"

# Configurações avançadas
advanced:
  # Detecção automática de tipo de programa
  auto_detection:
    enabled: true
    use_filename_patterns: true
    use_code_analysis: true
    fallback_to_generic: true
    
  # Adaptação dinâmica de prompts
  dynamic_adaptation:
    enabled: true
    adjust_based_on_size: true
    adjust_based_on_complexity: true
    adjust_based_on_context: true
    
  # Controle de qualidade
  quality_control:
    min_response_length: 200
    require_functional_answer: true
    validate_technical_content: true
    check_business_relevance: true

